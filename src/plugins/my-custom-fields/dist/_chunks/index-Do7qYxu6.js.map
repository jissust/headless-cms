{"version":3,"file":"index-Do7qYxu6.js","sources":["../../admin/src/components/InputNombreLocal/index.tsx"],"sourcesContent":["import { useState } from 'react';\n\nconst InputNombreLocal = (props: any, ref: any) => {\n  const { attribute, disabled, intlLabel, name, onChange, required, value } = props;\n  const [nombreLocal, setNombreLocal] = useState<string>('');\n  const url = window.location.href;\n  const queryParams = new URLSearchParams(window.location.search);\n  const localId = queryParams.get('localId');\n  console.log(window.location.href);\n  if (localId) {\n    fetch(`/api/locals?filters[id][$eq]=${localId}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (!data?.data) {\n          console.error('Debe seleccionar un local');\n          return;\n        }\n        setNombreLocal(data.data[0].nombre);\n      })\n      .catch((err) => {\n        console.error('Error al cargar el local', err);\n      });\n  }else{\n      const pathParts = url.split(\"/\");\n      const ventaId = pathParts[pathParts.length - 1];\n      console.log(\"ventaId\", ventaId);\n      fetch(`/api/ventas?populate=*&filters[documentId][$eq]=${ventaId}`)\n        .then((res) => res.json())\n        .then((data) => {\n          if (!data?.data) {\n            console.error('Debe seleccionar una venta');\n            return;\n          }\n          console.log(data.data[0].local.nombre);\n          //setNombreLocal(data.data.local.nombre);\n        })\n        .catch((err) => {\n          console.error('Error al cargar la venta', err);\n        });\n  }\n\n  return (\n    <>\n      <input\n        name={name}\n        disabled={true}\n        required={required}\n        value={nombreLocal}\n        type=\"text\"\n        className=\"input-customize\"\n      />\n    </>\n  );\n};\n\nexport { InputNombreLocal };\n"],"names":["useState","jsx","Fragment"],"mappings":";;;;AAEA,MAAM,mBAAmB,CAAC,OAAY,QAAa;AACjD,QAAM,EAAE,WAAW,UAAU,WAAW,MAAM,UAAU,UAAU,UAAU;AAC5E,QAAM,CAAC,aAAa,cAAc,IAAIA,MAAAA,SAAiB,EAAE;AACzD,QAAM,MAAM,OAAO,SAAS;AAC5B,QAAM,cAAc,IAAI,gBAAgB,OAAO,SAAS,MAAM;AAC9D,QAAM,UAAU,YAAY,IAAI,SAAS;AACzC,UAAQ,IAAI,OAAO,SAAS,IAAI;AAChC,MAAI,SAAS;AACX,UAAM,gCAAgC,OAAO,EAAE,EAC5C,KAAK,CAAC,QAAQ,IAAI,KAAA,CAAM,EACxB,KAAK,CAAC,SAAS;AACd,UAAI,CAAC,MAAM,MAAM;AACf,gBAAQ,MAAM,2BAA2B;AACzC;AAAA,MACF;AACA,qBAAe,KAAK,KAAK,CAAC,EAAE,MAAM;AAAA,IACpC,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,cAAQ,MAAM,4BAA4B,GAAG;AAAA,IAC/C,CAAC;AAAA,EACL,OAAK;AACD,UAAM,YAAY,IAAI,MAAM,GAAG;AAC/B,UAAM,UAAU,UAAU,UAAU,SAAS,CAAC;AAC9C,YAAQ,IAAI,WAAW,OAAO;AAC9B,UAAM,mDAAmD,OAAO,EAAE,EAC/D,KAAK,CAAC,QAAQ,IAAI,KAAA,CAAM,EACxB,KAAK,CAAC,SAAS;AACd,UAAI,CAAC,MAAM,MAAM;AACf,gBAAQ,MAAM,4BAA4B;AAC1C;AAAA,MACF;AACA,cAAQ,IAAI,KAAK,KAAK,CAAC,EAAE,MAAM,MAAM;AAAA,IAEvC,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,cAAQ,MAAM,4BAA4B,GAAG;AAAA,IAC/C,CAAC;AAAA,EACP;AAEA,SACEC,+BAAAC,WAAAA,UAAA,EACE,UAAAD,2BAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU;AAAA,MACV;AAAA,MACA,OAAO;AAAA,MACP,MAAK;AAAA,MACL,WAAU;AAAA,IAAA;AAAA,EAAA,GAEd;AAEJ;;"}